(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[23],{139:function(e,a,t){"use strict";var r=t(6),n=t(11),s=t(128),o=t.n(s),l=(t(172),t(0)),c=t.n(l),i=t(152),d=t(134),m=t(129),u=c.a.forwardRef((function(e,a){var t=e.id,s=e.bsPrefix,i=e.bsCustomPrefix,u=e.className,p=e.isValid,b=e.isInvalid,f=e.isStatic,h=e.as,g=void 0===h?"input":h,v=Object(n.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","isStatic","as"]),C=Object(l.useContext)(d.a),y=C.controlId;return s=C.custom?Object(m.b)(i,"custom-control-input"):Object(m.b)(s,"form-check-input"),c.a.createElement(g,Object(r.a)({},v,{ref:a,id:t||y,className:o()(u,s,p&&"is-valid",b&&"is-invalid",f&&"position-static")}))}));u.displayName="FormCheckInput",u.defaultProps={type:"checkbox"};var p=u,b=c.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.bsCustomPrefix,i=e.className,u=e.htmlFor,p=Object(n.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),b=Object(l.useContext)(d.a),f=b.controlId;return t=b.custom?Object(m.b)(s,"custom-control-label"):Object(m.b)(t,"form-check-label"),c.a.createElement("label",Object(r.a)({},p,{ref:a,htmlFor:u||f,className:o()(i,t)}))}));b.displayName="FormCheckLabel";var f=b,h=c.a.forwardRef((function(e,a){var t=e.id,s=e.bsPrefix,u=e.bsCustomPrefix,b=e.inline,h=e.disabled,g=e.isValid,v=e.isInvalid,C=e.feedback,y=e.className,E=e.style,O=e.title,j=e.type,N=e.label,x=e.children,I=e.custom,P=e.as,w=void 0===P?"input":P,k=Object(n.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedback","className","style","title","type","label","children","custom","as"]),S="switch"===j||I;s=S?Object(m.b)(u,"custom-control"):Object(m.b)(s,"form-check");var R=Object(l.useContext)(d.a).controlId,L=Object(l.useMemo)((function(){return{controlId:t||R,custom:S}}),[R,S,t]),F=null!=N&&!1!==N&&!x,T=c.a.createElement(p,Object(r.a)({},k,{type:"switch"===j?"checkbox":j,ref:a,isValid:g,isInvalid:v,isStatic:!F,disabled:h,as:w}));return c.a.createElement(d.a.Provider,{value:L},c.a.createElement("div",{style:E,className:o()(y,s,S&&"custom-"+j,b&&s+"-inline")},x||c.a.createElement(c.a.Fragment,null,T,F&&c.a.createElement(f,{title:O},N),(g||v)&&c.a.createElement(i.a,{type:g?"valid":"invalid"},C))))}));h.displayName="FormCheck",h.defaultProps={type:"checkbox",inline:!1,disabled:!1,isValid:!1,isInvalid:!1,title:""},h.Input=p,h.Label=f;a.a=h},159:function(e,a,t){"use strict";var r=t(6),n=t(11),s=t(128),o=t.n(s),l=t(0),c=t.n(l),i=t(129),d=t(136),m=t(144),u=t(173),p=c.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,l=e.variant,d=e.as,m=void 0===d?"img":d,u=Object(n.a)(e,["bsPrefix","className","variant","as"]),p=Object(i.b)(t,"card-img");return c.a.createElement(m,Object(r.a)({ref:a,className:o()(l?p+"-"+l:p,s)},u))}));p.displayName="CardImg",p.defaultProps={variant:null};var b=p,f=Object(m.a)("h5"),h=Object(m.a)("h6"),g=Object(d.a)("card-body"),v=c.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,d=e.bg,m=e.text,p=e.border,b=e.body,f=e.children,h=e.as,v=void 0===h?"div":h,C=Object(n.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),y=Object(i.b)(t,"card"),E=Object(l.useMemo)((function(){return{cardHeaderBsPrefix:y+"-header"}}),[y]);return c.a.createElement(u.a.Provider,{value:E},c.a.createElement(v,Object(r.a)({ref:a},C,{className:o()(s,y,d&&"bg-"+d,m&&"text-"+m,p&&"border-"+p)}),b?c.a.createElement(g,null,f):f))}));v.displayName="Card",v.defaultProps={body:!1},v.Img=b,v.Title=Object(d.a)("card-title",{Component:f}),v.Subtitle=Object(d.a)("card-subtitle",{Component:h}),v.Body=g,v.Link=Object(d.a)("card-link",{Component:"a"}),v.Text=Object(d.a)("card-text",{Component:"p"}),v.Header=Object(d.a)("card-header"),v.Footer=Object(d.a)("card-footer"),v.ImgOverlay=Object(d.a)("card-img-overlay");a.a=v},179:function(e,a,t){"use strict";var r=t(6),n=t(11),s=t(128),o=t.n(s),l=t(0),c=t.n(l),i=t(139),d=t(170),m=t(134),u=t(129),p=c.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,i=e.children,d=e.controlId,p=e.as,b=void 0===p?"div":p,f=Object(n.a)(e,["bsPrefix","className","children","controlId","as"]);t=Object(u.b)(t,"form-group");var h=Object(l.useMemo)((function(){return{controlId:d}}),[d]);return c.a.createElement(m.a.Provider,{value:h},c.a.createElement(b,Object(r.a)({},f,{ref:a,className:o()(s,t)}),i))}));p.displayName="FormGroup";var b=p,f=(t(137),t(140)),h=c.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.column,i=e.srOnly,d=e.className,p=e.htmlFor,b=Object(n.a)(e,["bsPrefix","column","srOnly","className","htmlFor"]),h=Object(l.useContext)(m.a).controlId;t=Object(u.b)(t,"form-label");var g=o()(d,t,i&&"sr-only",s&&"col-form-label");return p=p||h,s?c.a.createElement(f.a,Object(r.a)({as:"label",className:g,htmlFor:p},b)):c.a.createElement("label",Object(r.a)({ref:a,className:g,htmlFor:p},b))}));h.displayName="FormLabel",h.defaultProps={column:!1,srOnly:!1};var g=h,v=c.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,l=e.as,i=void 0===l?"small":l,d=e.muted,m=Object(n.a)(e,["bsPrefix","className","as","muted"]);return t=Object(u.b)(t,"form-text"),c.a.createElement(i,Object(r.a)({},m,{ref:a,className:o()(s,t,d&&"text-muted")}))}));v.displayName="FormText";var C=v,y=c.a.forwardRef((function(e,a){return c.a.createElement(i.a,Object(r.a)({},e,{ref:a,type:"switch"}))}));y.displayName="Switch",y.Input=i.a.Input,y.Label=i.a.Label;var E=y,O=t(136),j=c.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.inline,l=e.className,i=e.validated,d=e.as,m=void 0===d?"form":d,p=Object(n.a)(e,["bsPrefix","inline","className","validated","as"]);return t=Object(u.b)(t,"form"),c.a.createElement(m,Object(r.a)({},p,{ref:a,className:o()(l,i&&"was-validated",s&&t+"-inline")}))}));j.displayName="Form",j.defaultProps={inline:!1},j.Row=Object(O.a)("form-row"),j.Group=b,j.Control=d.a,j.Check=i.a,j.Switch=E,j.Label=g,j.Text=C;a.a=j},185:function(e,a,t){"use strict";var r=t(6),n=t(11),s=t(128),o=t.n(s),l=t(0),c=t.n(l),i=t(147),d=t(153),m=t(136),u=t(144),p=t(129),b=t(155),f=t(165),h=t(148),g={show:!0,transition:b.a,closeLabel:"Close alert"},v={show:"onClose"},C=c.a.forwardRef((function(e,a){var t=Object(i.a)(e,v),s=t.bsPrefix,l=t.show,m=t.closeLabel,u=t.className,b=t.children,h=t.variant,g=t.onClose,C=t.dismissible,y=t.transition,E=Object(n.a)(t,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),O=Object(p.b)(s,"alert"),j=Object(d.a)((function(e){g(!1,e)})),N=c.a.createElement("div",Object(r.a)({role:"alert"},y?E:void 0,{className:o()(u,O,h&&O+"-"+h,C&&O+"-dismissible")}),C&&c.a.createElement(f.a,{onClick:j,label:m}),b);return y?c.a.createElement(y,Object(r.a)({unmountOnExit:!0,ref:a},E,{in:l}),N):l?N:null})),y=Object(u.a)("h4");y.displayName="DivStyledAsH4",C.displayName="Alert",C.defaultProps=g,C.Link=Object(m.a)("alert-link",{Component:h.a}),C.Heading=Object(m.a)("alert-heading",{Component:y}),a.a=C},186:function(e,a,t){"use strict";var r=t(6),n=t(11),s=t(128),o=t.n(s),l=t(0),c=t.n(l),i=t(129),d=c.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.variant,l=e.animation,d=e.size,m=e.children,u=e.as,p=void 0===u?"div":u,b=e.className,f=Object(n.a)(e,["bsPrefix","variant","animation","size","children","as","className"]),h=(t=Object(i.b)(t,"spinner"))+"-"+l;return c.a.createElement(p,Object(r.a)({ref:a},f,{className:o()(b,h,d&&h+"-"+d,s&&"text-"+s)}),m)}));d.displayName="Spinner",a.a=d},252:function(e,a,t){"use strict";var r=t(6),n=t(11),s=t(128),o=t.n(s),l=t(0),c=t.n(l),i=t(147),d=t(129),m=t(154),u=c.a.createContext(null);var p=c.a.forwardRef((function(e,a){var t=e.as,s=void 0===t?"button":t,o=e.children,i=e.eventKey,d=e.onClick,p=Object(n.a)(e,["as","children","eventKey","onClick"]),b=function(e,a){var t=Object(l.useContext)(u),r=Object(l.useContext)(m.a);return function(n){r(e===t?null:e,n),a&&a(n)}}(i,d);return c.a.createElement(s,Object(r.a)({ref:a,onClick:b},p),o)})),b=t(216),f=c.a.forwardRef((function(e,a){var t=e.children,s=e.eventKey,o=Object(n.a)(e,["children","eventKey"]),i=Object(l.useContext)(u);return c.a.createElement(b.a,Object(r.a)({ref:a,in:i===s},o),c.a.createElement("div",null,c.a.Children.only(t)))}));f.displayName="AccordionCollapse";var h=f,g=c.a.forwardRef((function(e,a){var t=Object(i.a)(e,{activeKey:"onSelect"}),s=t.as,l=void 0===s?"div":s,p=t.activeKey,b=t.bsPrefix,f=t.children,h=t.className,g=t.onSelect,v=Object(n.a)(t,["as","activeKey","bsPrefix","children","className","onSelect"]);return b=Object(d.b)(b,"accordion"),c.a.createElement(u.Provider,{value:p},c.a.createElement(m.a.Provider,{value:g},c.a.createElement(l,Object(r.a)({ref:a},v,{className:o()(h,b)}),f)))}));g.Toggle=p,g.Collapse=h;a.a=g},612:function(e,a,t){"use strict";t.r(a);var r=t(52),n=t(43),s=t(44),o=t(46),l=t(45),c=t(47),i=t(27),d=t.n(i),m=t(0),u=t.n(m),p=t(608),b=t(607),f=t(252),h=t(185),g=t(175),v=t(159),C=t(186),y=t(23),E=t(176),O=t.n(E),j=t(149),N=t(141),x=t(51),I=t(57),P=t(71),w=t(179),k=function(e){var a=e.submitHandler,t=e.handleChange,r=e.formErrors,n=e.categories,s=e.name,o=e.selectOptionValueRef,l=e.category,c=e.showEditCategoryAccordionStateHandler;return u.a.createElement(f.a,{className:"mt-3",defaultActiveKey:s&&"0"},u.a.createElement(f.a.Toggle,{as:v.a.Header,eventKey:"0"},u.a.createElement("h3",null," ",s?"Edit "+s:"Create A New"," Category")),u.a.createElement(f.a.Collapse,{eventKey:"0"},u.a.createElement(w.a,{className:"mt-2",onSubmit:a,enctype:"multipart/form-data"},u.a.createElement(w.a.Group,{controlId:"formGroupCategoryName"},u.a.createElement(w.a.Label,null,"Category Name"),u.a.createElement(w.a.Control,{type:"text",placeholder:"Category Name",name:"name",value:l?l.name:null,onChange:t}),r.name.length>0&&u.a.createElement("span",{className:"errorMessage"},r.name)),u.a.createElement(w.a.Group,{controlId:"formGridParent"},u.a.createElement(w.a.Label,null,"Parent Category"),u.a.createElement(w.a.Control,{as:"select",name:"parentId",onChange:t,ref:o},u.a.createElement("option",{value:"Top"},"Top"),n.map((function(e){var a=e.slug.replace(/_/g," / ");return u.a.createElement("option",{value:e.id,selected:l&&e.id===l.parentId},a)}))),r.parentId.length>0&&u.a.createElement("span",{className:"errorMessage"},r.parentId)),u.a.createElement(w.a.Group,{controlId:"formGroupCategoryOrder"},u.a.createElement(w.a.Label,null,"Category Order"),u.a.createElement(w.a.Control,{type:"text",name:"order",value:l&&l.order,placeholder:"e.g. 5 <..Order makes priority. Lower value higher order..>",onChange:t}),r.order.length>0&&u.a.createElement("span",{className:"errorMessage"},r.order)),u.a.createElement(w.a.Group,{controlId:"formGroupCategoryDes"},u.a.createElement(w.a.Label,null,"Description"),u.a.createElement(w.a.Control,{type:"textarea",placeholder:"Enter short description",name:"description",value:l&&l.description,onChange:t}),r.description.length>0&&u.a.createElement("span",{className:"errorMessage"},r.description)),u.a.createElement(w.a.Group,null,u.a.createElement(w.a.Label,null,"Upload Image"),u.a.createElement("input",{type:"file",name:"image",className:"form-control-file",onChange:t}),r.image.length>0&&u.a.createElement("span",{className:"errorMessage"},r.image)),u.a.createElement(g.a,{type:"submit",className:"btn-submit"},"Submit"),s&&u.a.createElement(g.a,{variant:"success",className:"ml-3",onClick:c},"Cancel"))))},S=function(e){var a=e.formErrors,t=e.rest,r=!0,n="";return Object.values(a).forEach((function(e){e.length>0&&(r=!1)&&(n=e),e.length>0&&(n=e)})),Object.values(t).forEach((function(e){null===e&&(r=!1)})),{valid:r,error:n}},R=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(o.a)(this,Object(l.a)(a).call(this,e))).resetState=function(){t.setState({id:null,name:null,slug:null,parentId:"Top",description:null,order:null,image:null,isEditCategory:!1})},t.popover=function(e){return u.a.createElement(p.a,{id:"popover-basic"},u.a.createElement(p.a.Title,{as:"h3",className:"bg-warning text-white"},"Warning Message"),u.a.createElement(p.a.Content,null,"Are you sure You want to delete category.",u.a.createElement(g.a,{variant:"danger ml-3",onClick:function(){t.deleteCategory(e)}},"Yes")))},t.hideResponse=function(){t.setState({response:null})},t.submitHandler=function(e){e.preventDefault();var a=t.state,r=a.formErrors,n=a.name,s=a.order,o=a.description,l=a.image,c={name:n,parentId:t.state.parentId||t.selectOptionValueRef.current.value,order:s,description:o,image:l},i=S({rest:c,formErrors:r}),m=i.valid,u=i.error;if(m){var p=new FormData;Object.keys(c).forEach((function(e){c[e]&&p.append(e,c[e])})),Object(P.a)(t.props.auth.token),t.setState({loading:!0}),d.a.request({baseURL:"https://bcs.backend.rajdoctors.com",url:"/categories",method:"post",data:p}).then((function(e){t.setState({loading:!1,response:"Successfully created Category",responseClass:"success"}),t.props.onFetchCategoryLoader(),setTimeout(t.hideResponse,2e3)})).catch((function(e){var a=Object(I.a)(e);t.setState({loading:!1,response:a,responseClass:"danger"}),setTimeout(t.hideResponse,2e3)}))}else t.setState({response:"Please fill form corectly"+(u?" __ "+u.toUpperCase()+" __":""),responseClass:"danger"}),setTimeout(t.hideResponse,2e3)},t.editCategorysubmitHandler=function(e){e.preventDefault();var a=t.state,r=a.formErrors,n=a.id,s=a.name,o=a.order,l=a.description,c=a.image,i=a.slug,m=t.state.parentId||t.selectOptionValueRef.current.value,u=c?{id:n,name:s,slug:i,parentId:m,order:o,description:l,image:c}:{id:n,name:s,slug:i,parentId:m,order:o,description:l},p=S({rest:u,formErrors:r}),b=p.valid,f=p.error;if(b){t.resetState();var h=new FormData;Object.keys(u).forEach((function(e){u[e]&&h.append(e,u[e])})),Object(P.a)(t.props.auth.token),t.setState({loading:!0}),d.a.request({baseURL:"https://bcs.backend.rajdoctors.com",url:"/categories",method:"patch",data:h}).then((function(e){t.setState({loading:!1,response:"Successfully Updated Category",responseClass:"success"}),t.props.onFetchCategoryLoader(),setTimeout(t.hideResponse,2e3)})).catch((function(e){var a=Object(I.a)(e);t.setState({loading:!1,response:a,responseClass:"danger"}),setTimeout(t.hideResponse,2e3)})),t.resetState()}else t.setState({response:"Please fill form corectly"+(f?" __ "+f.toUpperCase()+" __":""),responseClass:"danger"}),setTimeout(t.hideResponse,2e3)},t.handleChange=function(e){var a=e.target,n=a.name,s=a.value,o=a.files,l=t.state.formErrors;switch(n){case"name":l.name=!O.a.isLength(s,{min:1,max:25})||O.a.contains(s,"_")||O.a.contains(s,"/")?"Category Name should not be emty, more than 25 charecter and contain '_,/'":"";break;case"description":l.description=O.a.isLength(s,{min:30,max:300})?"":"Description should be minimum 30 or maximum 300 characters";break;case"parentId":l.parentId="Top"===s||O.a.isInt(s)||O.a.isMongoId(s)?"":"ParentId is not valid";break;case"order":l.order=O.a.isNumeric(s)?"":"Order should be only number";break;case"image":l.image=O.a.isEmpty(s)?"Choose a valid image":""}t.setState(Object(r.a)({formErrors:l},n,o?o[0]:s))},t.state={loading:!1,id:null,name:null,slug:null,parentId:"Top",description:null,order:null,image:null,response:null,responseClass:"success",showEditCategoryComponent:!1,formErrors:{name:"",parentId:"",description:"",order:"",image:""}},t.selectOptionValueRef=u.a.createRef(),t}return Object(c.a)(a,e),Object(s.a)(a,[{key:"deleteCategory",value:function(e){var a=this;Object(P.a)(this.props.auth.token),this.setState({loading:!0}),d.a.delete("https://bcs.backend.rajdoctors.com/categories",{data:{id:e.id}}).then((function(t){a.setState({loading:!1,response:e.name+" deleted successfully",responseClass:"success"}),a.props.onFetchCategoryLoader(),setTimeout(a.hideResponse,2e3)})).catch((function(e){var t=Object(I.a)(e);a.setState({loading:!1,response:t,responseClass:"danger"}),setTimeout(a.hideResponse,2e3)}))}},{key:"componentDidMount",value:function(){this.props.onFetchCategoryLoader()}},{key:"render",value:function(){var e=this,a=this.props.category.categories;return u.a.createElement(u.a.Fragment,null,u.a.createElement(j.a,N.a.Category.metaInfo),this.state.loading&&u.a.createElement(C.a,{animation:"border",role:"status",variant:"dark",className:"content-center"}),this.state.response&&u.a.createElement(h.a,{variant:this.state.responseClass,className:"text-center content-center"},this.state.response),u.a.createElement(k,{submitHandler:this.submitHandler,handleChange:this.handleChange,formErrors:this.state.formErrors,categories:a,category:{name:this.state.name,parentId:this.state.parentId,order:this.state.order,description:this.state.description}}),u.a.createElement("div",{className:"mt-3"},u.a.createElement(f.a,null,u.a.createElement(f.a.Toggle,{as:v.a.Header,eventKey:"1"},u.a.createElement("h3",null,"Edit Category")),u.a.createElement(f.a.Collapse,{eventKey:"1"},u.a.createElement("div",{className:"mt-2 p-2"},a.map((function(t){return u.a.createElement(h.a,{variant:"primary"},t.slug,u.a.createElement(g.a,{className:"ml-2",onClick:function(){e.setState({id:t.id,slug:t.slug,name:t.name,parentId:t.parentId,order:t.order,description:t.description,showEditCategoryComponent:t.slug})}},"Edit"),u.a.createElement(b.a,{trigger:["click"],placement:"right",rootClose:!0,overlay:e.popover(t)},u.a.createElement(g.a,{className:"ml-2",variant:"danger",disabled:e.state.showEditCategoryComponent},"Delete")),u.a.createElement("div",null,e.state.showEditCategoryComponent===t.slug&&u.a.createElement(k,{submitHandler:e.editCategorysubmitHandler,handleChange:e.handleChange,loading:e.state.loading,formErrors:e.state.formErrors,categories:a,name:t.name,selectOptionValueRef:e.selectOptionValueRef,category:{name:e.state.name,parentId:e.state.parentId,order:e.state.order,description:e.state.description},showEditCategoryAccordionStateHandler:function(){e.setState({showEditCategoryComponent:!1})}})))})))))))}}]),a}(m.Component);a.default=Object(y.b)((function(e){return{auth:e.auth,category:e.category}}),(function(e){return{onFetchCategoryLoader:function(){return e(Object(x.c)())},onCreateCategoryloader:function(a){return e(Object(x.a)(a))}}}))(R)}}]);
//# sourceMappingURL=23.f491bfc6.chunk.js.map