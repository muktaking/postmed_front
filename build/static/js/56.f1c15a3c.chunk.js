(this.webpackJsonpeexam_front=this.webpackJsonpeexam_front||[]).push([[56],{135:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={Home:{metaInfo:{title:"Online Exam Platform",description:"Online Exam Platform - participate into exam from anywhere anytime with extensive solve immediately. Question and answer is authentic with help of talented mentor."}},Exams:{metaInfo:{title:"Lists Of Exams",description:"Lists of all available exams. Participate into the exams. Test your skill and find the gap."}},Dashboard:{metaInfo:{title:"Dashboard",description:"Get all contents at one place. Your routine, reports, activity, featured & latest exam and many more."}},Course:{metaInfo:{title:"Course",description:"Enroll for your desire courses and prepare for upcoming exams."}},Reports:{metaInfo:{title:"Reports",description:"In depth reports all of your exam. Take a look and get the gap."}},Profile:{metaInfo:{title:"Profile",description:"Update the profile and get a better user exprience."}},Settings:{metaInfo:{title:"Settings"}},Category:{metaInfo:{title:"CategoryBuilder"}},Question:{metaInfo:{title:"QuestionBuilder"}},CourseBuilder:{metaInfo:{title:"CourseBuilder"}},RoutineBuilder:{metaInfo:{title:"RoutineBuilder"}},ExamBuilder:{metaInfo:{title:"ExamBuilder"}},ExamEdit:{metaInfo:{title:"ExamEdit"}},Login:{metaInfo:{title:"Login",description:"Login to access the app."}},Signup:{metaInfo:{title:"Signup",description:"To use the app fully, You have to signup "}}}},139:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(161),s="yas",i=a(135).a.Home.metaInfo,l=i.title,c=i.description;t.a=function(e){var t=e.meta,a=void 0===t?[]:t,r=e.defer,i=void 0!==r&&r,m=e.lang,d=void 0===m?"en":m,p=e.title,u=void 0===p?l:p,g=e.description,h=void 0===g?c:g;return(n.a.createElement(o.b,{defer:i,title:u,htmlAttributes:{lang:d},titleTemplate:"%s | ".concat("MediOnExam"),meta:[{name:"description",content:h},{property:"og:description",content:h},{property:"og:title",content:u},{property:"og:type",content:"website"},{property:"og:image",content:"".concat("https://medionexam.com","/logo.png")},{name:"author",content:s}].concat(a)}))}},750:function(e,t,a){"use strict";a.r(t);var r=a(43),n=a(42),o=a(48),s=a(47),i=a(44),l=a(45),c=a(28),m=a.n(c),d=a(0),p=a.n(d),u=a(335),g=a(238),h=a(284),f=a(184),E=a(225),y=a(171),C=a(203),v=a(22),b=a(187),I=a.n(b),x=a(139),O=a(135),S=a(51),k=a(60),N=a(72),w=a(283),R=function(e){var t=e.submitHandler,a=e.handleChange,r=e.formErrors,n=e.categories,o=e.name,s=e.selectOptionValueRef,i=e.category,l=e.showEditCategoryAccordionStateHandler;return(p.a.createElement(h.a,{className:"mt-3",defaultActiveKey:o&&"0"},p.a.createElement(h.a.Toggle,{as:y.a.Header,eventKey:"0"},p.a.createElement("h3",null," ",o?"Edit "+o:"Create A New"," Category")),p.a.createElement(h.a.Collapse,{eventKey:"0"},p.a.createElement(w.a,{className:"mt-2",onSubmit:t,enctype:"multipart/form-data"},p.a.createElement(w.a.Group,{controlId:"formGroupCategoryName"},p.a.createElement(w.a.Label,null,"Category Name"),p.a.createElement(w.a.Control,{type:"text",placeholder:"Category Name",name:"name",value:i?i.name:null,onChange:a}),r.name.length>0&&p.a.createElement("span",{className:"errorMessage"},r.name)),p.a.createElement(w.a.Group,{controlId:"formGridParent"},p.a.createElement(w.a.Label,null,"Parent Category"),p.a.createElement(w.a.Control,{as:"select",name:"parentId",onChange:a,ref:s},p.a.createElement("option",{value:"Top"},"Top"),n.map((function(e){var t=e.slug.replace(/_/g," / ");return(p.a.createElement("option",{value:e.id,selected:i&&e.id===i.parentId},t))}))),r.parentId.length>0&&p.a.createElement("span",{className:"errorMessage"},r.parentId)),p.a.createElement(w.a.Group,{controlId:"formGroupCategoryOrder"},p.a.createElement(w.a.Label,null,"Category Order"),p.a.createElement(w.a.Control,{type:"text",name:"order",value:i&&i.order,placeholder:"e.g. 5 <..Order makes priority. Lower value higher order..>",onChange:a}),p.a.createElement("span",{className:"text-muted"},"A rudimentary options. More than 100000 valued category will not be seen at examByCategory"),r.order.length>0&&p.a.createElement("span",{className:"errorMessage"},r.order)),p.a.createElement(w.a.Group,{controlId:"formGroupCategoryDes"},p.a.createElement(w.a.Label,null,"Description"),p.a.createElement(w.a.Control,{type:"textarea",placeholder:"Enter short description",name:"description",value:i&&i.description,onChange:a}),r.description.length>0&&p.a.createElement("span",{className:"errorMessage"},r.description)),p.a.createElement(w.a.Group,null,p.a.createElement(w.a.Label,null,"Upload Image (Not mandatory)"),p.a.createElement("input",{type:"file",name:"image",className:"form-control-file",onChange:a}),r.image.length>0&&p.a.createElement("span",{className:"errorMessage"},r.image)),p.a.createElement(E.a,{type:"submit",className:"btn-submit"},"Submit"),o&&p.a.createElement(E.a,{variant:"success",className:"ml-3",onClick:l},"Cancel")))))},L=function(e){var t=e.formErrors,a=e.rest,r=!0,n="";return Object.values(t).forEach((function(e){e.length>0&&(r=!1)&&(n=e),e.length>0&&(n=e)})),Object.values(a).forEach((function(e){null===e&&(r=!1)})),{valid:r,error:n}},T=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).resetState=function(){a.setState({id:null,name:null,slug:null,parentId:"Top",description:null,order:null,image:null,isEditCategory:!1})},a.popover=function(e){return p.a.createElement(u.a,{id:"popover-basic"},p.a.createElement(u.a.Title,{as:"h3",className:"bg-warning text-white"},"Warning Message"),p.a.createElement(u.a.Content,null,"Are you sure You want to delete category.",p.a.createElement(E.a,{variant:"danger ml-3",onClick:function(){a.deleteCategory(e)}},"Yes")))},a.hideResponse=function(){a.setState({response:null})},a.submitHandler=function(e){e.preventDefault();var t=a.state,r=t.formErrors,n=t.name,o=t.order,s=t.description,i={name:n,parentId:a.state.parentId||a.selectOptionValueRef.current.value,order:o,description:s},l=L({rest:i,formErrors:r}),c=l.valid,d=l.error;if(c){var p=new FormData;Object.keys(i).forEach((function(e){i[e]&&p.append(e,i[e])})),Object(N.a)(a.props.auth.token),a.setState({loading:!0}),m.a.request({baseURL:"https://backend.medionexam.com",url:"/categories",method:"post",data:p}).then((function(e){a.setState({loading:!1,response:"Successfully created Category",responseClass:"success"}),a.props.onFetchCategoryLoader(),setTimeout(a.hideResponse,2e3)})).catch((function(e){var t=Object(k.a)(e);a.setState({loading:!1,response:t,responseClass:"danger"}),setTimeout(a.hideResponse,2e3)}))}else a.setState({response:"Please fill form corectly"+(d?" __ "+d.toUpperCase()+" __":""),responseClass:"danger"}),setTimeout(a.hideResponse,2e3)},a.editCategorysubmitHandler=function(e){e.preventDefault();var t=a.state,r=t.formErrors,n=t.id,o=t.name,s=t.order,i=t.description,l=t.image,c=t.slug,d=a.state.parentId||a.selectOptionValueRef.current.value,p=l?{id:n,name:o,slug:c,parentId:d,order:s,description:i,image:l}:{id:n,name:o,slug:c,parentId:d,order:s,description:i},u=L({rest:p,formErrors:r}),g=u.valid,h=u.error;if(g){a.resetState();var f=new FormData;Object.keys(p).forEach((function(e){p[e]&&f.append(e,p[e])})),Object(N.a)(a.props.auth.token),a.setState({loading:!0}),m.a.request({baseURL:"https://backend.medionexam.com",url:"/categories",method:"patch",data:f}).then((function(e){a.setState({loading:!1,response:"Successfully Updated Category",responseClass:"success"}),a.props.onFetchCategoryLoader(),setTimeout(a.hideResponse,2e3)})).catch((function(e){var t=Object(k.a)(e);a.setState({loading:!1,response:t,responseClass:"danger"}),setTimeout(a.hideResponse,2e3)})),a.resetState()}else a.setState({response:"Please fill form corectly"+(h?" __ "+h.toUpperCase()+" __":""),responseClass:"danger"}),setTimeout(a.hideResponse,2e3)},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value,s=t.files,i=a.state.formErrors;switch(n){case"name":i.name=!I.a.isLength(o,{min:1,max:25})||I.a.contains(o,"_")||I.a.contains(o,"/")?"Category Name should not be emty, more than 25 charecter and contain '_,/'":"";break;case"description":i.description=I.a.isLength(o,{min:30,max:300})?"":"Description should be minimum 30 or maximum 300 characters";break;case"parentId":i.parentId="Top"===o||I.a.isInt(o)||I.a.isMongoId(o)?"":"ParentId is not valid";break;case"order":i.order=I.a.isNumeric(o)?"":"Order should be only number"}a.setState(Object(r.a)({formErrors:i},n,s?s[0]:o))},a.state={loading:!1,id:null,name:null,slug:null,parentId:"Top",description:null,order:null,image:null,response:null,responseClass:"success",showEditCategoryComponent:!1,formErrors:{name:"",parentId:"",description:"",order:"",image:""}},a.selectOptionValueRef=p.a.createRef(),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"deleteCategory",value:function(e){var t=this;Object(N.a)(this.props.auth.token),this.setState({loading:!0}),m.a.delete("https://backend.medionexam.com/categories",{data:{id:e.id}}).then((function(a){t.setState({loading:!1,response:e.name+" deleted successfully",responseClass:"success"}),t.props.onFetchCategoryLoader(),setTimeout(t.hideResponse,2e3)})).catch((function(e){var a=Object(k.a)(e);t.setState({loading:!1,response:a,responseClass:"danger"}),setTimeout(t.hideResponse,2e3)}))}},{key:"componentDidMount",value:function(){this.props.onFetchCategoryLoader()}},{key:"render",value:function(){var e=this,t=this.props.category.categories;return p.a.createElement(p.a.Fragment,null,p.a.createElement(x.a,O.a.Category.metaInfo),this.state.loading&&p.a.createElement(C.a,{animation:"border",role:"status",variant:"dark",className:"content-center"}),this.state.response&&p.a.createElement(f.a,{variant:this.state.responseClass,className:"text-center content-center"},this.state.response),p.a.createElement(R,{submitHandler:this.submitHandler,handleChange:this.handleChange,formErrors:this.state.formErrors,categories:t,category:{name:this.state.name,parentId:this.state.parentId,order:this.state.order,description:this.state.description}}),p.a.createElement("div",{className:"mt-3"},p.a.createElement(h.a,null,p.a.createElement(h.a.Toggle,{as:y.a.Header,eventKey:"1"},p.a.createElement("h3",null,"Edit Category")),p.a.createElement(h.a.Collapse,{eventKey:"1"},p.a.createElement("div",{className:"mt-2 p-2"},t.map((function(a){return p.a.createElement(f.a,{variant:"primary"},a.slug,p.a.createElement(E.a,{className:"ml-2",onClick:function(){e.setState({id:a.id,slug:a.slug,name:a.name,parentId:a.parentId,order:a.order,description:a.description,showEditCategoryComponent:a.slug})}},"Edit"),p.a.createElement(g.a,{trigger:["click"],placement:"right",rootClose:!0,overlay:e.popover(a)},p.a.createElement(E.a,{className:"ml-2",variant:"danger",disabled:e.state.showEditCategoryComponent},"Delete")),p.a.createElement("div",null,e.state.showEditCategoryComponent===a.slug&&p.a.createElement(R,{submitHandler:e.editCategorysubmitHandler,handleChange:e.handleChange,loading:e.state.loading,formErrors:e.state.formErrors,categories:t,name:a.name,selectOptionValueRef:e.selectOptionValueRef,category:{name:e.state.name,parentId:e.state.parentId,order:e.state.order,description:e.state.description},showEditCategoryAccordionStateHandler:function(){e.setState({showEditCategoryComponent:!1})}})))})))))))}}]),t}(d.Component);t.default=Object(v.b)((function(e){return{auth:e.auth,category:e.category}}),(function(e){return{onFetchCategoryLoader:function(){return e(Object(S.c)())},onCreateCategoryloader:function(t){return e(Object(S.a)(t))}}}))(T)}}]);
//# sourceMappingURL=56.f1c15a3c.chunk.js.map